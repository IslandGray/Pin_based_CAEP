<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
	
<struts>
    <include file="struts-default.xml"/>
      
    <package name="REG" extends="struts-default">
    	<!-- 
	     <action name="find-book" class="action.BookDB" method="find">
	      	<result name="SUCCESS">/WEB-INF/pages/list.jsp</result>
	      	<result name="NOPERSON">/WEB-INF/pages/no-person.jsp</result>
	     </action>
	     -->
	     <action name="RegSwitch">
	      	<result>/WEB-INF/pages/Register/RegSwitch.jsp</result>
	     </action>
	     <action name="RegSubmitTest" class="com.wcp.project.register.RegTest" method="registerTest">
	      	<result name="REGISTED" type="redirectAction">GotoLogin?user=${inputEmail}</result>
	      	<result name="SUCCESS"  type="redirectAction">Regist?user=${inputEmail}</result>
	      	<result name="ERROR">/WEB-INF/pages/Register/RegSwitch.jsp</result>
	     </action>
	     <action name="Regist">
	      	<result>/WEB-INF/pages/Register/Regist.jsp</result>
	     </action>
	     <action name="finishReg" class="com.wcp.project.register.FinishReg" method="finishReg">
	     	<result name="SUCCESS" type="redirectAction">GotoLogin?user=${inputEmail}</result>
	     	<result name="FAILED" type="redirectAction">failedReg</result>
	     </action>
	     <action name="failedReg">
	     	<result>/WEB-INF/pages/Register/RegFail.jsp</result>
	     </action>
    </package>
    
    <package name="LOGIN" extends="struts-default">
    	<action name="GotoLogin">
    		<result>/WEB-INF/pages/Login/Login.jsp</result>
    	</action>
    	<action name="Login" class="com.wcp.project.login.Login" method="login">
    		<result name="SUCCESS">/WEB-INF/pages/Home/HomePage.jsp</result>
    		<result name="ERROR" type="redirectAction">GotoLogin?errcode=-1&amp;user=${inputEmail}</result>
    	</action>
    	<action name="loginExit">
    		<result>/WEB-INF/pages/Login/Logout.jsp</result>
    	</action>
    </package>
   
</struts>